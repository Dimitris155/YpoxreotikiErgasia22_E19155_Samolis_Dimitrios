# Web Service apps με Dockerfile και json

Αρχικά δημιουργόυμε αρχείο Dockerfile μαζί με το docker-compose.yml. Με αυτά θα δημιουργήσουμε το image με τα packages,τα directories,την πόρτα (5000) και το αρχείο webServise.py.

Με το αρχείο admin.js κάνουμε import τα στοιχεία του admin στο terminal ώστε να μπορέσουμε να τρέξουμε την εφαρμογή μας.

Στο αρχείο μας webService.py, αφού έχουμε κάνει import όλες τις απαραίτητες βιβλιοθήκες, δημιουργούμε την σύνδεση με την βάση μας DigitalNotes και τα collections (Users, Notes).
Στην συνέχεια, εκτελούμε τα endpoints, ένα-ένα με την δοθείσα σειρά της εκφώνησης.

Καταρχάς, φτιάχνουμε τις κατηγοριές για το άν ο χρήστης θα είναι "απλός χρήστης" ή "admin" και στα περισσότερα endpoints γίνεται πρώτα ο έλεγχος για το αν αυτός που προσπαθεί να κάνει κάποια λειτουργία είναι admin ή user ,με βάση το uuid τους. 

Δημιούργουμε πρώτα τον χρήστη με το email,password,name,username και ελέγχουμε αν δεν υπάρχει ήδη χρήστης με το ίδιο email/username.

Για την είσοδο στο σύστημα ο απλός χρήστης εισάγει τα δεδομένα του και με την μέθοδο POST γίνεται η εισαγωγή τους στην βάση δεδομένων.

Η προσθήκη σημείωσης λειτουργεί με την είσοδο τίτλου,ημερομηνίας,κειμένου και λέξης κλειδειού/κλειδιών και με την μέθοδο POST τα παιρνάμε στην βάση δεδομένων.

Για την αναζήτηση σημείωσης έχουμε την επιλογή βάση τίτλου ή λέξης κλειδιού και άν βρεθεί η σημείση που ψάχνουμε εμφανίζεται με την μέθοδο GET από την βάση, αν δεν υπάρχει η συγκεκριμένη σημείωση εμφανίζεται κατάλληλο μήνυμα.

Η διόρθωση μίας σημείωσης γίνεται με την εισαγωγή όλων των χαρακτηριστικών της και με την επιλογή της κατηγορίας που θέλει να αλλάξει(τίτλο,κείμενο,λέξης κλειδιού) η λειτουργία υλοποιείται με την PATCH μέθοδο.

Η διαγραφή μίας σημείωσης γίνεται βάση τίτλου και ύστερα από την διαγραφή η σημείωση σβήνεται από την βάση μας με την DELETE.

Η εμφάνιση των σημειώσεων με την βόηθεια της GET παίρνει τα δεδομένα βάση το email του χρήστη και ότι αυτός έχει αποθηκευμένο θα εμφανίζεται με χρονολογική σειρά.

Ακόμα ο χρήστης έχει την δυνατότητα διαγραφής του λογαριασμού του, με την διαγραφή του email του, τότε διαγράφονται και όλες του οι σημειώσεις. 

Ο admin μπορεί να συνδεθεί στην εφαρμογή με την εισαγωγή του email,password και του ονοματεπώνυμού του, κάνοντας PATCH στην βάση μας με του users.

Τέλος, ο admin έχει την δυνατότητα να διαγράψει κάποιον χρήστη επιλέγοντας το όνομα χρήστη που θέλει και σβήνοντάς τον απο την βάση.

